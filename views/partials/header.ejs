<div class="container">
  <header class="d-flex flex-wrap align-items-center justify-content-between py-3 mb-4 border-bottom border-2 border-primary-subtle">
    <div class="col-md-3 mb-2 mb-md-0">
      <a href="/" class="d-inline-flex align-items-center text-decoration-none">
        <span class="fs-3 text-primary me-2">ðŸ“š</span>
        <span class="fs-4 fw-bold text-primary">LearnOnline</span>
      </a>
    </div>

    <ul class="nav col-12 col-md-auto mb-2 mb-md-0 justify-content-center">
      <li class="nav-item">
        <a href="/"
           class="nav-link px-3 text-dark fw-medium position-relative hover-underline">
          Home
        </a>
      </li>
      <li class="nav-item">
        <a href="/api/course/view-courses"
           class="nav-link px-3 text-dark fw-medium position-relative hover-underline">
          Courses
        </a>
      </li>
    </ul>

    <div class="col-md-3 text-end">
      <% if (user) { %>
        <div class="dropdown">
          <a class="btn btn-outline-primary rounded-pill px-4 me-2 fw-medium dropdown-toggle" href="#" role="button" id="userDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            <i class="bi bi-person-circle me-1"></i> <%= user.email %>
          </a>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userDropdown">
            <% if (user.userType === 'student') { %>
              <li><a class="dropdown-item" href="/student/dashboard">Student Dashboard</a></li>
            <% } else if (user.userType === 'instructor') { %>
              <li><a class="dropdown-item" href="/instructor/dashboard">Instructor Dashboard</a></li>
            <% } else if (user.userType === 'admin') { %>
              <li><a class="dropdown-item" href="/admin/dashboard">Admin Dashboard</a></li>
              <li><a class="dropdown-item" href="/users">Manage Users</a></li> <% } %>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item" href="/changePassword">Change Password</a></li>
            <li><a class="dropdown-item text-danger" href="/logout">Logout</a></li>
          </ul>
        </div>
      <% } else { %>
        <a href="/login"
           class="btn btn-outline-primary rounded-pill px-4 me-2 fw-medium">
          Login
        </a>
        <a href="/signup"
           class="btn btn-primary rounded-pill px-4 fw-medium">
          Sign Up
        </a>
      <% } %>
    </div>
  </header>
</div>

<style>
  /* Consistent with existing forms */
  .hover-underline::after {
    content: '';
    position: absolute;
    bottom: -2px;
    left: 0;
    width: 0;
    height: 2px;
    background: #0d6efd;
    transition: width 0.3s ease;
  }
  
  .hover-underline:hover::after {
    width: 100%;
  }
  
  .nav-link {
    transition: color 0.2s ease;
  }
  
  .nav-link:hover {
    color: #0d6efd !important;
  }
  
  .btn-outline-primary {
    border-color: #0d6efd;
    color: #0d6efd;
  }
  
  .btn-outline-primary:hover {
    background: #0d6efd;
    color: white;
  }
</style>
